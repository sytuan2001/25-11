<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L·ªõp Rectangle - H√¨nh ch·ªØ nh·∫≠t</title>
    <link rel="stylesheet" href="styce.css">
</head>
<body>
<h1>üìê B√†i t·∫≠p: L·ªõp Rectangle (H√¨nh ch·ªØ nh·∫≠t)</h1>

<div class="box">
    <h2>Canvas - N∆°i v·∫Ω h√¨nh ch·ªØ nh·∫≠t</h2>
    <canvas id="myCanvas" width="500" height="300"></canvas>
</div>

<div class="box">
    <h2>Th√¥ng tin h√¨nh ch·ªØ nh·∫≠t</h2>
    <div class="info" id="info">
        <p><strong>Chi·ªÅu d√†i:</strong> <span id="lengthDisplay">-</span></p>
        <p><strong>Chi·ªÅu r·ªông:</strong> <span id="widthDisplay">-</span></p>
        <p><strong>Di·ªán t√≠ch:</strong> <span id="areaDisplay">-</span></p>
        <p><strong>Chu vi:</strong> <span id="perimeterDisplay">-</span></p>
    </div>
</div>

<div class="box">
    <h2>C√°c thao t√°c</h2>
    <button onclick="step1()">B∆∞·ªõc 1: T·∫°o h√¨nh ch·ªØ nh·∫≠t</button>
    <button onclick="step2()">B∆∞·ªõc 2: V·∫Ω h√¨nh</button>
    <button onclick="step3()">B∆∞·ªõc 3: Thay ƒë·ªïi k√≠ch th∆∞·ªõc</button>
    <button onclick="step4()">B∆∞·ªõc 4: T√≠nh di·ªán t√≠ch & chu vi</button>
</div>

<script>
    // ================================================================
    // B∆Ø·ªöC 1: KHAI B√ÅO L·ªöP RECTANGLE
    // ================================================================

    class Rectangle {
        // Constructor: H√†m kh·ªüi t·∫°o, ch·∫°y khi t·∫°o object m·ªõi
        constructor(length, width) {
            this.length = length;  // Thu·ªôc t√≠nh: chi·ªÅu d√†i
            this.width = width;    // Thu·ªôc t√≠nh: chi·ªÅu r·ªông
        }

        // Ph∆∞∆°ng th·ª©c: T√≠nh di·ªán t√≠ch
        getArea() {
            return this.length * this.width;
        }

        // Ph∆∞∆°ng th·ª©c: T√≠nh chu vi
        getPerimeter() {
            return (this.length + this.width) * 2;
        }

        // Ph∆∞∆°ng th·ª©c: V·∫Ω h√¨nh ch·ªØ nh·∫≠t l√™n canvas
        draw() {
            // L·∫•y canvas t·ª´ HTML
            let canvas = document.getElementById('myCanvas');
            let ctx = canvas.getContext('2d');

            // X√≥a canvas tr∆∞·ªõc khi v·∫Ω
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // T√≠nh v·ªã tr√≠ v·∫Ω ·ªü gi·ªØa canvas
            let x = (canvas.width - this.length) / 2;
            let y = (canvas.height - this.width) / 2;

            // V·∫Ω h√¨nh ch·ªØ nh·∫≠t
            ctx.fillStyle = '#4CAF50';  // M√†u xanh l√°
            ctx.fillRect(x, y, this.length, this.width);

            // V·∫Ω vi·ªÅn ƒëen
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.strokeRect(x, y, this.length, this.width);

            // Ghi ch√∫ k√≠ch th∆∞·ªõc
            ctx.fillStyle = '#000';
            ctx.font = '16px Arial';
            ctx.fillText('D√†i: ' + this.length, x + 10, y + 20);
            ctx.fillText('R·ªông: ' + this.width, x + 10, y + 40);
        }
    }

    // ================================================================
    // B∆Ø·ªöC 2: KHAI B√ÅO BI·∫æN TO√ÄN C·ª§C
    // ================================================================

    let myRectangle;  // Bi·∫øn ƒë·ªÉ l∆∞u ƒë·ªëi t∆∞·ª£ng h√¨nh ch·ªØ nh·∫≠t

    // ================================================================
    // C√ÅC H√ÄM X·ª¨ L√ù THEO K·ªäCH B·∫¢N
    // ================================================================

    // B∆Ø·ªöC 1: Khai b√°o v√† kh·ªüi t·∫°o ƒë·ªëi t∆∞·ª£ng Rectangle
    function step1() {
        // T·∫°o object m·ªõi t·ª´ class Rectangle
        // new Rectangle(chi·ªÅu_d√†i, chi·ªÅu_r·ªông)
        myRectangle = new Rectangle(200, 100);

        alert('‚úÖ B∆∞·ªõc 1: ƒê√£ t·∫°o h√¨nh ch·ªØ nh·∫≠t!\n\nChi·ªÅu d√†i: 200\nChi·ªÅu r·ªông: 100');

        console.log('Object ƒë√£ t·∫°o:', myRectangle);
        console.log('Chi·ªÅu d√†i:', myRectangle.length);
        console.log('Chi·ªÅu r·ªông:', myRectangle.width);
    }

    // B∆Ø·ªöC 2: Hi·ªÉn th·ªã h√¨nh ch·ªØ nh·∫≠t l√™n m√†n h√¨nh
    function step2() {
        if (!myRectangle) {
            alert('‚ùå Vui l√≤ng ch·∫°y B∆∞·ªõc 1 tr∆∞·ªõc!');
            return;
        }

        // G·ªçi ph∆∞∆°ng th·ª©c draw() ƒë·ªÉ v·∫Ω
        myRectangle.draw();

        alert('‚úÖ B∆∞·ªõc 2: ƒê√£ v·∫Ω h√¨nh ch·ªØ nh·∫≠t l√™n canvas!');
    }

    // B∆Ø·ªöC 3: Thay ƒë·ªïi chi·ªÅu d√†i v√† chi·ªÅu r·ªông
    function step3() {
        if (!myRectangle) {
            alert('‚ùå Vui l√≤ng ch·∫°y B∆∞·ªõc 1 tr∆∞·ªõc!');
            return;
        }

        // Thay ƒë·ªïi thu·ªôc t√≠nh c·ªßa object
        myRectangle.length = 300;  // ƒê·ªïi chi·ªÅu d√†i th√†nh 300
        myRectangle.width = 150;   // ƒê·ªïi chi·ªÅu r·ªông th√†nh 150

        // V·∫Ω l·∫°i v·ªõi k√≠ch th∆∞·ªõc m·ªõi
        myRectangle.draw();

        alert('‚úÖ B∆∞·ªõc 3: ƒê√£ thay ƒë·ªïi k√≠ch th∆∞·ªõc!\n\nChi·ªÅu d√†i m·ªõi: 300\nChi·ªÅu r·ªông m·ªõi: 150');
    }

    // B∆Ø·ªöC 4: T√≠nh v√† in di·ªán t√≠ch, chu vi
    function step4() {
        if (!myRectangle) {
            alert('‚ùå Vui l√≤ng ch·∫°y B∆∞·ªõc 1 tr∆∞·ªõc!');
            return;
        }

        // G·ªçi c√°c ph∆∞∆°ng th·ª©c t√≠nh to√°n
        let area = myRectangle.getArea();
        let perimeter = myRectangle.getPerimeter();

        // Hi·ªÉn th·ªã l√™n m√†n h√¨nh
        document.getElementById('lengthDisplay').textContent = myRectangle.length;
        document.getElementById('widthDisplay').textContent = myRectangle.width;
        document.getElementById('areaDisplay').textContent = area;
        document.getElementById('perimeterDisplay').textContent = perimeter;

        alert('‚úÖ B∆∞·ªõc 4: ƒê√£ t√≠nh to√°n!\n\n' +
            'Chi·ªÅu d√†i: ' + myRectangle.length + '\n' +
            'Chi·ªÅu r·ªông: ' + myRectangle.width + '\n' +
            'Di·ªán t√≠ch: ' + area + '\n' +
            'Chu vi: ' + perimeter);
    }
</script>
</body>
</html>